## 这个文档是在整理蛋白挖掘的步骤及注意的事项（备忘录）

本次挖掘基于已经发表了的pAgo进行宏基因组的挖掘工作，已经发表的pAgo蛋白数量为269

### 1.宏基因组数据的预处理
由于blast在遇到大片段重复的序列时会报错，所以需要过滤掉<200aa和大片段重复序列，同时因为数据量大需要将序列进行拆分

```
#经过过滤得到长度大于200aa的蛋白质用于后续分析
perl find_protein_length_200.pl metagenome.pep.fasta metagenome.pep.length200.fasta 
#删除具有大片段重复的序列，得到没有大片段重复的蛋白质数据
python delete_repeat_fasta2.py metagenome.pep.length200.fasta filter.list

grep ">" metagenome.pep.length200.fasta |sed 's/>//'|cat - filter.list |sort|uniq -u >metagenome.pep.filter.list
# '|'的意思是管道符号，以上一条命令的输出作为本次命令的输入
#grep命令：能使用正则表达式搜索文本，并把匹配的行打印出来；
# sed命令：是一种流编辑器，它一次处理一行内容，在处理时，把当前处理的行存储在临时缓存区中，又被称为模式空间，接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。在本次代码中sed表示删除了前一步提取的fasta文件序列号list文件里面的“>”号；
# cat命令：是Linux下的一个文本输出命令，通常是用于观看某个文件的内容主要有三大功能：1）一次显示整个文件；2）从键盘创建文件；3）将几个文件合并为一个文件；
# sort命令：在这里表示安装默认情况将输入的文本排序；
# uniq命令：在这里表示只显示出现一次内容的行（不允许重复行出现）

perl /public1/home/scb8190/git_hub/CRISPR/extract_unfind_fa.pl metagenome.pep.length200.fasta metagenome.pep.filter.list metagenome.pep.filter.fasta
```

对数据进行分批，这里也是采用了Perl命令

```
#!/bin/bash
perl fasta-splitter.pl --n-parts 9 /public1/home/scb8190/caojian/Ago/metagenome2/metagenome2.pep.filter.fasta
```




